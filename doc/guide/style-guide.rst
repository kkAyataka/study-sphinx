--------------------------------------------------------------------------------
Style Guide
--------------------------------------------------------------------------------

reStructuredText/Sphinxで記述する際のローカルなガイドラインについて記述する。

.. contents::
   :local:


ファイル名・フォルダ名
================================================================================

- 全て小文字で、単語ごとに「-」でつなげる

::

  guide/style-guide.rst


インデント
================================================================================

インデントが必要な場合は **2スペース** を用いる。

基本的にreStructuredTextのルールに従うので、インデントというよりはベースラインをそろえるということになる。
この時、基本的に3か2スペースが必要になる。

定義リストやリテラルコードブロックなど、一部定義が緩いものがあるが、この場合に **2スペース** を用いる。
ベースラインをそろえるのに2を使用することが多いため、それに合わせる。


セクション
================================================================================

7まで使用するというわけではないが、少し多めに。セクションはページごとに判定されるので、
セクション4で大体収まる。

複数ファイルで構成する場合、章タイトルとしてセクションを1レベル消費し、
**テキスト的に** セクションをそろえると、全体として1レベル深くなる。
ただし、その場合もセクション5で大体収まるし、reST的にはあまり意味が無いので、
好みの話になる。

.. code-block:: rst

   =============
   1 セクション1
   =============

   ---------------
   1.2 セクション2
   ---------------

   1.2.3 セクション3
   =================

   1.2.3.4 セクション4
   -------------------

   1.2.3.4.5 セクション5
   .....................

   1.2.3.4.5.6 セクション6
   ~~~~~~~~~~~~~~~~~~~~~~~

   1.2.3.4.5.6.7 セクション7
   ^^^^^^^^^^^^^^^^^^^^^^^^^


段落
================================================================================

.. list-table:: 段落

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/paragraph.txt
     - .. include:: style-sample/paragraph.txt


箇条書き（番号なしリスト）
================================================================================

「-」か「*」を使う。reSTで使える文字はあるものの、他のマークアップ書式（Markdownなど）と共通の意味で使えるものを使う。

.. list-table:: 番号なしリスト

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/bullet-list.txt
          :language: rst
     - .. include:: style-sample/bullet-list.txt


列挙リスト（番号付きリスト）
================================================================================

まず、列挙リスト事態、使用場面を考える。順番であることが重要である場合、意識させたほうが良い場合のみに使用する。
多くのケースでは箇条書きで十分である。

基本的に「#」を用いる。自動採番されるため、誤記が減ったり、保守（追記/削除）が容易になる。
「1.」の記述がダメというわけではない。テキスト単体では読みやすいし、
マークアップによっては（途中の番号から始めるために）必要になったりする。
ただし、リストが大きくなると保守性に影響が出てくるため、使いどころを考える必要がある。

.. list-table:: 番号付きリスト

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/enumerated-list.txt
          :language: rst
     - .. include:: style-sample/enumerated-list.txt


定義リスト
================================================================================

.. list-table:: 定義リスト

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/definition-list.txt
          :language: rst
     - .. include:: style-sample/definition-list.txt


表（テーブル）
================================================================================

次の順番で使う。

1. リストテーブル
2. CSVテーブル
3. シンプルテーブル


複雑なテーブル表現はreST/Sphinxには向かないとしてある程度諦める。
複雑・超大な表に関してはExcelファイルをダウンロードしたり、
オンラインOfficeなどで開くようにする。

グリッド表現はリッチな表現ができるが、記述も保守も難しい。
これを使用するのであれば、Excelから引用できるように拡張機能を準備したほうが良い。


リストテーブル
--------------------------------------------------------------------------------

.. list-table:: リストテーブル

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/list-table.txt
          :language: rst
     - .. include:: style-sample/list-table.txt


CSVテーブル
--------------------------------------------------------------------------------

.. list-table:: CSVテーブル

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/csv-table.txt
          :language: rst
     - .. include:: style-sample/csv-table.txt


シンプルテーブル
--------------------------------------------------------------------------------

.. list-table:: シンプルテーブル

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/simple-table.txt
          :language: rst
     - .. include:: style-sample/simple-table.txt


図
================================================================================

.. list-table:: 図

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/figure.txt
          :language: rst
     - .. include:: style-sample/figure.txt


コードブロック
================================================================================

.. list-table:: コードブロック

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/code-block.txt
          :language: rst
     - .. include:: style-sample/code-block.txt


リンク（参照）
================================================================================

``.. _label:`` で任意の場所にラベルをつけ、 ``label_`` として参照する。
セクション・図表の直前にラベルをつけ、 ``:ref:`` 、 ``:numref:`` で参照することで、
各セクションや図表番号への参照を作れる。

全てのセクション、図表にラベルを作りたいところだが、割と労力なので、参照が必要になった場合とする。
名前は一意にする必要があるので、「セクション１名-ラベル」あたりになる。

.. list-table:: ラベル、ref、numref

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/label-ref-numref.txt
          :language: rst
     - .. include:: style-sample/label-ref-numref.txt
ハイパーリンク
email
外部ハイパーリンクターゲット
名前付きハイパーリンク参照
名前なしハイパーリンク
埋め込みURL記法
インライン内部ターゲット
ラベル
クロスリファレンス
別原稿ファイルへのリンク
ダウンロード用リンク

インライン記法
インライン記法（ロール）

コメント

dodcinfo

TOCツリー
ページ内目次

脚注
引用参照
注釈
数式
RFC、PEP
オプションリスト
置換
置換変数
用語集
インクルード
raw


使用すると表現が増す構文
================================================================================

使用しなくても記述できるが、使用すると表現力が増す構文。
慣れたら使う。慣れないうちは気にしない。


リテラルブロック
--------------------------------------------------------------------------------

.. list-table:: リテラルブロック

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/literal-block.txt
          :language: rst
     - .. include:: style-sample/literal-block.txt


引用リテラルブロック
--------------------------------------------------------------------------------

.. list-table:: 引用リテラルブロック

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/quoted-literal-block.txt
          :language: rst
     - .. include:: style-sample/quoted-literal-block.txt


フィールドリスト
--------------------------------------------------------------------------------

項目と内容で簡単に小さい表が作れるが、レンダリング時の表示が微妙で、使いどころが難しい。
テーマによって表示がかなり異なる。

...しかし、あっれー、サンプルとも表示がだいぶ異なる？なんでや...

.. list-table:: フィールドリスト

   * - テキスト
     - 表示
   * - .. literalinclude:: style-sample/field-list.txt
          :language: rst
     - .. include:: style-sample/field-list.txt


参考リンク
================================================================================

- reStructuredText Documentation: http://docutils.sourceforge.net/rst.html
- Docutils（reST）マニュアル: https://docutils.sphinx-users.jp/
- reStructuredText マークアップ仕様: https://docutils.sphinx-users.jp/docutils/docs/ref/rst/restructuredtext.html
- 早わかり reStructuredText: https://quick-restructuredtext.readthedocs.io/en/latest/
